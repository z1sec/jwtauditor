<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JWT编辑器指南 - JWTAuditor 文档</title>
    <meta name="description" content="学习如何使用JWTAuditor的JWT编辑器工具来修改JWT头部、载荷，并使用不同算法重新签名令牌。">
    <meta name="keywords" content="JWT, 编辑器, 修改, 重签名, 头部, 载荷, 签名">
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../css/docs.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <link rel="icon" href="../../img/logo.svg" type="image/svg+xml">
</head>
<body class="docs-body">
    <header>
        <div class="logo">
            <i class="fas fa-user-secret"></i>
            <h1>JWTAuditor</h1>
        </div>
        <div class="subtitle">Documentation & Learning Resources</div>
        <div class="header-actions">
            <a href="../../index.html" class="header-btn tool-btn"><i class="fas fa-tools"></i> Back to Tool</a>
        </div>
    </header>

    <main class="docs-main">
        <div class="docs-container">
            <aside class="docs-sidebar">
                <div class="sidebar-header">
                    <h2>文档</h2>
                </div>
                <nav class="docs-nav">
                    <div class="nav-section">
                        <h3>JWT基础</h3>
                        <ul>
                            <li><a href="../jwt-fundamentals.html">理解JWT结构</a></li>
                            <li><a href="../jwt-claims.html">JWT声明详解</a></li>
                            <li><a href="../jwt-vs-sessions.html">JWT与会话认证</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>安全指南</h3>
                        <ul>
                            <li><a href="../jwt-vulnerabilities-guide.html">JWT漏洞指南</a></li>
                            <li><a href="../jwt-attack-vectors.html">完整攻击向量</a></li>
                            <li><a href="../jwt-security-checklist.html">安全检查清单</a></li>
                            <li><a href="../jwt-tools-comparison.html">工具对比</a></li>
                            <li><a href="../secure-jwt-implementation.html">安全实施</a></li>
                            <li><a href="../jwt-attack-techniques.html">攻击技术</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>工具指南</h3>
                        <ul>
                            <li><a href="decoder-analyzer.html">解码器与分析器</a></li>
                            <li><a href="secret-bruteforcer.html">密钥暴力破解器</a></li>
                            <li><a href="jwt-editor.html" class="active">JWT编辑器</a></li>
                            <li><a href="jwt-generator.html">JWT生成器</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>参考</h3>
                        <ul>
                            <li><a href="../reference/jwt-header-parameters.html">头部参数</a></li>
                            <li><a href="../reference/jwt-claim-registry.html">声明注册表</a></li>
                            <li><a href="../reference/jwt-algorithms.html">JWT算法</a></li>
                        </ul>
                    </div>
                </nav>
            </aside>

            <div class="docs-content">
                <div class="docs-header">
                    <h1>JWT编辑器指南</h1>
                    <div class="docs-meta">
                        <span><i class="fas fa-edit"></i> 高级工具</span>
                        <span><i class="fas fa-clock"></i> 更新时间: 2024年5月</span>
                    </div>
                </div>

                <div class="docs-section intro-section">
                    <p class="lead">
                        JWT编辑器是一个强大的工具，允许您通过编辑现有JWT令牌的头部和载荷来修改它们，然后使用不同的算法和密钥重新签名。这对于测试JWT实现和探索潜在的安全漏洞至关重要。
                    </p>
                </div>

                <div class="docs-section">
                    <h2>什么是JWT编辑？</h2>
                    <p>
                        JWT编辑涉及在保持其结构完整性的同时修改JWT令牌的内容。这包括：
                    </p>
                    <ul>
                        <li><strong>头部修改:</strong> 更改算法、类型或其他头部参数</li>
                        <li><strong>载荷修改:</strong> 更改用户ID、角色、过期时间等声明</li>
                        <li><strong>重新签名:</strong> 使用不同的密钥或算法生成新签名</li>
                        <li><strong>算法混淆:</strong> 测试应用程序如何处理算法更改</li>
                    </ul>
                    
                    <div class="info-box">
                        <i class="fas fa-info-circle info-icon"></i>
                        <div class="info-content">
                            <strong>使用场景:</strong> JWT编辑通常用于权限提升测试、身份验证绕过尝试和探索JWT实现缺陷。
                        </div>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>如何使用JWT编辑器</h2>
                    
                    <h3>步骤1: 导航到工具</h3>
                    <p>点击主JWTAuditor界面中的"✏️ JWT编辑器"标签。</p>

                    <h3>步骤2: 加载JWT令牌</h3>
                    <p>在"待编辑JWT令牌"字段中粘贴您的JWT令牌并点击"加载JWT"。该工具将：</p>
                    <ul>
                        <li>解析并验证令牌结构</li>
                        <li>提取头部和载荷</li>
                        <li>以可编辑的JSON格式显示它们</li>
                        <li>设置签名算法选择器</li>
                    </ul>
                    
                    <div class="tip-box">
                        <div class="tip-icon"><i class="fas fa-lightbulb"></i></div>
                        <div class="tip-content">
                            <p><strong>提示:</strong> 编辑器会自动格式化JSON以提高可读性。确保您的修改保持有效的JSON语法，否则工具将显示验证错误。</p>
                        </div>
                    </div>

                    <h3>步骤3: 编辑头部</h3>
                    <p>在头部编辑器中修改头部JSON。常见的修改包括：</p>
                    
                    <div class="code-example">
                        <h4>算法更改</h4>
                        <pre><code class="language-json">{
  "alg": "none",  // Changed from "HS256"
  "typ": "JWT"
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>添加密钥ID</h4>
                        <pre><code class="language-json">{
  "alg": "RS256",
  "typ": "JWT",
  "kid": "../../etc/passwd"  // Path traversal attempt
}</code></pre>
                    </div>

                    <h3>步骤4: 编辑载荷</h3>
                    <p>修改载荷JSON以更改声明。常见测试场景：</p>
                    
                    <div class="code-example">
                        <h4>权限提升</h4>
                        <pre><code class="language-json">{
  "sub": "1234567890",
  "name": "John Doe",
  "role": "admin",  // Changed from "user"
  "iat": 1516239022,
  "exp": 1516242622
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>用户冒充</h4>
                        <pre><code class="language-json">{
  "sub": "999999999",  // Changed user ID
  "name": "Administrator",
  "role": "admin",
  "iat": 1516239022,
  "exp": 1516242622
}</code></pre>
                    </div>

                    <h3>步骤5: 配置签名选项</h3>
                    <p>选择签名算法并提供必要的密钥：</p>
                    
                    <div class="algorithm-options">
                        <div class="option-card">
                            <h4>none算法</h4>
                            <p>不需要签名。用于测试应用程序是否接受未签名的令牌。</p>
                            <p><strong>风险:</strong> 如果被接受，则完全绕过身份验证。</p>
                        </div>
                        
                        <div class="option-card">
                            <h4>HMAC算法 (HS256, HS384, HS512)</h4>
                            <p>需要共享密钥。使用已知或暴力破解的密钥。</p>
                            <p><strong>示例:</strong> <code>mysecretkey</code></p>
                        </div>
                        
                        <div class="option-card">
                            <h4>RSA算法 (RS256, RS384, RS512)</h4>
                            <p>需要私钥进行签名。用于使用已知私钥进行测试。</p>
                            <p><strong>注意:</strong> 只需要私钥进行签名。</p>
                        </div>
                    </div>

                    <h3>步骤6: 生成修改后的令牌</h3>
                    <p>点击"生成JWT"创建修改后的令牌。该工具将：</p>
                    <ul>
                        <li>验证JSON语法</li>
                        <li>更新头部中的算法</li>
                        <li>生成适当的签名</li>
                        <li>显示完整的修改后JWT</li>
                    </ul>

                    <h3>步骤7: 复制和测试</h3>
                    <p>使用"复制到剪贴板"按钮复制修改后的令牌并在目标应用程序中测试它。</p>
                </div>

                <div class="docs-section">
                    <h2>常见攻击场景</h2>
                    
                    <h3>1. 算法混淆攻击</h3>
                    <p>测试应用程序是否接受具有不同算法的令牌：</p>
                    
                    <div class="attack-scenario">
                        <h4>none算法绕过</h4>
                        <p>将算法更改为"none"以测试应用程序是否接受未签名的令牌。</p>
                        <div class="code-example">
                            <pre><code class="language-json">// Original Header
{
  "alg": "HS256",
  "typ": "JWT"
}

// Modified Header
{
  "alg": "none",
  "typ": "JWT"
}</code></pre>
                        </div>
                    </div>

                    <div class="attack-scenario">
                        <h4>HMAC到RSA混淆</h4>
                        <p>使用RSA公钥作为HMAC密钥将算法从HMAC更改为RSA。</p>
                        <div class="code-example">
                            <pre><code class="language-json">// Original Header
{
  "alg": "RS256",
  "typ": "JWT"
}

// Modified Header
{
  "alg": "HS256",
  "typ": "JWT"
}</code></pre>
                        </div>
                        <p>然后在重新签名时使用RSA公钥作为HMAC密钥。</p>
                    </div>

                    <h3>2. 权限提升</h3>
                    <p>修改载荷中的用户角色和权限：</p>
                    
                    <div class="code-example">
                        <pre><code class="language-json">// 原始载荷
{
  "sub": "1234567890",
  "name": "普通用户",
  "role": "user",
  "permissions": ["read"]
}

// 修改后的载荷
{
  "sub": "1234567890",
  "name": "Regular User",
  "role": "admin",
  "permissions": ["read", "write", "delete", "admin"]
}</code></pre>
                    </div>

                    <h3>3. 令牌过期绕过</h3>
                    <p>延长或移除过期时间：</p>
                    
                    <div class="code-example">
                        <pre><code class="language-json">// 原始载荷(已过期)
{
  "sub": "1234567890",
  "name": "John Doe",
  "iat": 1516239022,
  "exp": 1516242622  // 过去的过期时间
}

// 修改后的载荷(未来过期时间)
{
  "sub": "1234567890",
  "name": "John Doe",
  "iat": 1516239022,
  "exp": 1915934400  // 2030年
}</code></pre>
                    </div>

                    <h3>4. 用户冒充</h3>
                    <p>更改用户标识符以冒充其他用户：</p>
                    
                    <div class="code-example">
                        <pre><code class="language-json">// 原始载荷
{
  "sub": "1234567890",
  "name": "John Doe",
  "email": "john@example.com"
}

// 修改后的载荷
{
  "sub": "0000000001",  // 管理员用户ID
  "name": "管理员",
  "email": "admin@example.com"
}</code></pre>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>高级功能</h2>
                    
                    <h3>签名验证</h3>
                    <p>JWT编辑器包含一个签名验证功能，用于测试密钥是否正确：</p>
                    <ol>
                        <li>加载JWT令牌</li>
                        <li>输入可疑的密钥</li>
                        <li>点击"验证签名"</li>
                        <li>该工具将确认密钥是否有效</li>
                    </ol>

                    <h3>JSON验证</h3>
                    <p>编辑器会自动验证JSON语法并为无效的JSON结构提供错误消息。</p>

                    <h3>算法支持</h3>
                    <p>JWTAuditor支持所有常见的JWT算法：</p>
                    <ul>
                        <li><strong>none:</strong> 无签名</li>
                        <li><strong>HS256/HS384/HS512:</strong> 使用SHA-256/384/512的HMAC</li>
                        <li><strong>RS256/RS384/RS512:</strong> 使用SHA-256/384/512的RSA</li>
                    </ul>
                </div>

                <div class="docs-section">
                    <h2>最佳实践</h2>
                    
                    <h3>对于渗透测试人员</h3>
                    <ul>
                        <li>始终在修改前测试原始令牌</li>
                        <li>从简单修改开始(算法更改)</li>
                        <li>单独测试每个修改以确定哪些有效</li>
                        <li>记录成功的修改以便报告</li>
                        <li>考虑成功修改的业务影响</li>
                    </ul>

                    <h3>对于开发人员</h3>
                    <ul>
                        <li>使用此工具测试您的JWT验证逻辑</li>
                        <li>验证您的应用程序是否拒绝修改后的令牌</li>
                        <li>测试算法混淆场景</li>
                        <li>确保正确的签名验证</li>
                        <li>彻底验证所有声明</li>
                    </ul>

                    <h3>安全测试清单</h3>
                    <ul>
                        <li>☐ 测试"none"算法接受情况</li>
                        <li>☐ 测试HMAC到RSA算法混淆</li>
                        <li>☐ 测试通过角色修改进行权限提升</li>
                        <li>☐ 测试通过ID更改进行用户冒充</li>
                        <li>☐ 测试过期绕过</li>
                        <li>☐ 使用无效密钥测试签名验证</li>
                        <li>☐ 测试格式错误的JSON处理</li>
                    </ul>
                </div>

                <div class="docs-section">
                    <h2>RSA密钥管理</h2>
                    
                    <h3>私钥格式</h3>
                    <p>RSA私钥应为PEM格式：</p>
                    
                    <div class="code-example">
                        <pre><code>-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA2Z3QX0BTLS5+o6zXITG3MuHE8PVDRvn1wQ3lTe7YmQsS8U8a
...
-----END RSA PRIVATE KEY-----</code></pre>
                    </div>

                    <h3>密钥生成</h3>
                    <p>您可以使用OpenSSL生成RSA密钥：</p>
                    
                    <div class="code-example">
                        <pre><code class="language-bash"># Generate private key
openssl genrsa -out private_key.pem 2048

# Extract public key
openssl rsa -in private_key.pem -pubout -out public_key.pem</code></pre>
                    </div>

                    <h3>使用公钥测试</h3>
                    <p>对于算法混淆攻击，您可能需要使用公钥作为HMAC密钥。首先将公钥转换为适当格式。</p>
                </div>

                <div class="docs-section">
                    <h2>故障排除</h2>
                    
                    <div class="faq-item">
                        <h4>问: 编辑时出现"无效JSON"错误</h4>
                        <p>答: 确保您的JSON格式正确，包括正确的引号、逗号和括号。如有需要，请使用JSON验证器。</p>
                    </div>

                    <div class="faq-item">
                        <h4>问: 签名验证失败</h4>
                        <p>答: 仔细检查您使用的密钥是否正确且与算法匹配。对于RSA，请确保您使用的是私钥。</p>
                    </div>

                    <div class="faq-item">
                        <h4>问: 应用程序仍然拒绝我的修改后令牌</h4>
                        <p>答: 应用程序可能除了签名验证外还有额外的验证。检查所有声明是否有效且令牌结构正确。</p>
                    </div>

                    <div class="faq-item">
                        <h4>问: 如何知道我的攻击是否成功？</h4>
                        <p>答: 在目标应用程序中测试修改后的令牌。寻找成功身份验证、访问受限资源或权限提升的迹象。</p>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>安全注意事项</h2>
                    
                    <div class="warning-box">
                        <i class="fas fa-exclamation-triangle warning-icon"></i>
                        <div class="warning-content">
                            <strong>法律声明:</strong> 仅在您拥有或明确授权测试的系统上使用此工具。未经授权修改身份验证令牌可能违反法律和服务条款。
                        </div>
                    </div>

                    <div class="info-box">
                        <i class="fas fa-shield-alt info-icon"></i>
                        <div class="info-content">
                            <strong>隐私:</strong> 所有令牌编辑都在您的浏览器本地执行。没有任何令牌或密钥传输到外部服务器。
                        </div>
                    </div>

                    <p>其他安全注意事项：</p>
                    <ul>
                        <li>请注意您的测试活动可能会被记录</li>
                        <li>考虑成功权限提升的影响</li>
                        <li>记录所有成功的攻击以便修复</li>
                        <li>遵循负责任的披露实践</li>
                    </ul>
                </div>

                <div class="docs-section">
                    <h2>相关工具</h2>
                    <p>将JWT编辑器与其他JWTAuditor工具结合使用以进行全面测试：</p>
                    
                    <div class="tool-links">
                        <a href="decoder-analyzer.html" class="tool-link">
                            <i class="fas fa-search"></i>
                            <div>
                                <h4>解码器和分析器</h4>
                                <p>编辑前分析令牌以识别潜在漏洞</p>
                            </div>
                        </a>
                        
                        <a href="secret-bruteforcer.html" class="tool-link">
                            <i class="fas fa-key"></i>
                            <div>
                                <h4>密钥暴力破解器</h4>
                                <p>发现可用于重新签名令牌的弱密钥</p>
                            </div>
                        </a>
                        
                        <a href="jwt-generator.html" class="tool-link">
                            <i class="fas fa-plus-circle"></i>
                            <div>
                                <h4>JWT生成器</h4>
                                <p>创建全新的令牌用于测试目的</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>JWTAuditor</h3>
                <p>面向渗透测试人员和网络安全专业人员的专业JWT安全测试平台。解码、分析漏洞并审计JSON Web Token实现，确保完整的客户端隐私。</p>
            </div>
            <div class="footer-section">
                <h3>文档</h3>
                <ul class="footer-links">
                    <li><a href="../jwt-fundamentals.html">JWT基础</a></li>
                    <li><a href="../jwt-vulnerabilities-guide.html">漏洞指南</a></li>
                    <li><a href="../secure-jwt-implementation.html">安全实施</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>资源</h3>
                <ul class="footer-links">
                    <li><a href="../../about.html">关于我们</a></li>
                    <li><a href="https://jwt.io/" target="_blank">JWT.io</a></li>
                    <li><a href="https://portswigger.net/web-security/jwt" target="_blank">PortSwigger JWT攻击</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 A Project by <a href="https://github.com/dr34mhacks"></a>Sid </a>& <a href="https://github.com/thecybersandeep">Sandeep</a></p>
            <div class="social-links">
                <a href="https://x.com/infosecmania" target="_blank"><i class="fab fa-twitter"></i></a>
                <a href="https://www.linkedin.com/company/infosecmania" target="_blank"><i class="fab fa-linkedin"></i></a>
                <a href="https://github.com/dr34mhacks/jwtauditor" target="_blank"><i class="fab fa-github"></i></a>
            </div>
        </div>
    </footer>

    <button class="sidebar-toggle" aria-label="Toggle sidebar">
        <i class="fas fa-bars"></i>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="../js/docs.js"></script>
</body>
</html>