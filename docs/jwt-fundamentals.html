<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JWT基础：理解JSON Web Token - JWTAuditor</title>
    <meta name="description" content="了解JWT结构、声明和概念。理解JSON Web Token的工作原理及其在现代身份验证系统中的用例。">
    <meta name="keywords" content="JWT, JSON Web Token, 结构, 声明, 身份验证, 授权">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="css/docs.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <link rel="icon" href="../img/logo.svg" type="image/svg+xml">
</head>
<body class="docs-body">
    <header>
        <div class="logo">
            <i class="fas fa-user-secret"></i>
            <h1>JWTAuditor</h1>
        </div>
        <div class="subtitle">文档与学习资源</div>
        <div class="header-actions">
            <a href="../index.html" class="header-btn tool-btn"><i class="fas fa-tools"></i> 返回工具</a>
        </div>
    </header>

    <main class="docs-main">
        <div class="docs-container">
            <aside class="docs-sidebar">
                <div class="sidebar-header">
                    <h2>文档</h2>
                </div>
                <nav class="docs-nav">
                    <div class="nav-section">
                        <h3>JWT基础</h3>
                        <ul>
                            <li><a href="jwt-fundamentals.html" class="active">理解JWT结构</a></li>
                            <li><a href="jwt-claims.html">JWT声明详解</a></li>
                            <li><a href="jwt-vs-sessions.html">JWT与会话认证</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>安全指南</h3>
                        <ul>
                            <li><a href="jwt-vulnerabilities-guide.html">JWT漏洞指南</a></li>
                            <li><a href="jwt-attack-vectors.html">完整攻击向量</a></li>
                            <li><a href="jwt-security-checklist.html">安全检查清单</a></li>
                            <li><a href="jwt-tools-comparison.html">工具对比</a></li>
                            <li><a href="secure-jwt-implementation.html">安全实施</a></li>
                            <li><a href="jwt-attack-techniques.html">攻击技术</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>工具指南</h3>
                        <ul>
                            <li><a href="tool-guides/decoder-analyzer.html">解码器与分析器</a></li>
                            <li><a href="tool-guides/secret-bruteforcer.html">密钥暴力破解器</a></li>
                            <li><a href="tool-guides/jwt-editor.html">JWT编辑器</a></li>
                            <li><a href="tool-guides/jwt-generator.html">JWT生成器</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>参考</h3>
                        <ul>
                            <li><a href="reference/jwt-header-parameters.html">头部参数</a></li>
                            <li><a href="reference/jwt-claim-registry.html">声明注册表</a></li>
                            <li><a href="reference/jwt-algorithms.html">JWT算法</a></li>
                        </ul>
                    </div>
                </nav>
            </aside>

            <div class="docs-content">
                <div class="docs-header">
                    <h1>JWT基础：理解JSON Web Token</h1>
                    <div class="docs-meta">
                        <span><i class="fas fa-book"></i> 核心概念</span>
                        <span><i class="fas fa-clock"></i> 阅读时间：10分钟</span>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>什么是JWT？</h2>
                    <p class="lead">
                        JSON Web Token (JWT) 是一个开放标准（<a href="https://tools.ietf.org/html/rfc7519" target="_blank">RFC 7519</a>），它定义了一种紧凑且自包含的安全传输信息的方式，信息以JSON对象的形式在各方之间传递。由于信息经过数字签名，因此可以被验证和信任。
                    </p>
                    
                    <div class="info-box">
                        <div class="info-icon"><i class="fas fa-info-circle"></i></div>
                        <div class="info-content">
                            <p>JWT可以使用密钥（配合HMAC算法）或使用RSA或ECDSA的公钥/私钥对进行签名。签名令牌可以验证其中包含的声明的完整性，而加密令牌则可以向其他方隐藏这些声明。</p>
                        </div>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>JWT结构</h2>
                    <p>
                        JWT由三个部分组成，用点（<code>.</code>）分隔：
                    </p>
                    
                    <pre><code class="language-text">xxxxx.yyyyy.zzzzz</code></pre>
                    
                    <p>这些部分是：</p>
                    
                    <ol>
                        <li><strong>头部</strong> - 包含关于令牌的元数据</li>
                        <li><strong>载荷</strong> - 包含声明或断言</li>
                        <li><strong>签名</strong> - 验证令牌未被篡改</li>
                    </ol>
                    
                    <p>让我们详细检查每个部分：</p>
                    
                    <h3>头部</h3>
                    <p>
                        头部通常由两部分组成：
                    </p>
                    <ul>
                        <li>令牌类型，即JWT</li>
                        <li>使用的签名算法，如HMAC SHA256或RSA</li>
                    </ul>
                    
                    <p>示例：</p>
                    <pre><code class="language-json">{
  "alg": "HS256",
  "typ": "JWT"
}</code></pre>
                    
                    <p>这个JSON被Base64Url编码以形成JWT的第一部分。</p>
                    
                    <h3>载荷</h3>
                    <p>
                        载荷包含声明。声明是关于实体（通常是用户）和附加数据的语句。声明有三种类型：
                    </p>
                    
                    <ol>
                        <li>
                            <strong>注册声明</strong>：预定义的声明，不是强制性的但推荐使用
                            <ul>
                                <li><code>iss</code>（签发者）：谁签发了该令牌</li>
                                <li><code>sub</code>（主题）：令牌所指的对象</li>
                                <li><code>aud</code>（受众）：令牌的目标受众</li>
                                <li><code>exp</code>（过期时间）：令牌何时过期</li>
                                <li><code>nbf</code>（生效时间）：令牌何时开始有效</li>
                                <li><code>iat</code>（签发时间）：令牌何时签发</li>
                                <li><code>jti</code>（JWT ID）：令牌的唯一标识符</li>
                            </ul>
                        </li>
                        <li>
                            <strong>公共声明</strong>：由使用JWT的人定义的声明
                            <ul>
                                <li>应在 <a href="https://www.iana.org/assignments/jwt/jwt.xhtml" target="_blank">IANA JSON Web Token注册表</a> 中定义，或作为包含防冲突命名空间的URI定义</li>
                            </ul>
                        </li>
                        <li>
                            <strong>私有声明</strong>：为在各方之间共享信息而创建的自定义声明
                        </li>
                    </ol>
                    
                    <p>示例：</p>
                    <pre><code class="language-json">{
  "sub": "1234567890",
  "name": "张三",
  "admin": true,
  "iat": 1516239022,
  "exp": 1516242622
}</code></pre>
                    
                    <p>这个JSON被Base64Url编码以形成JWT的第二部分。</p>
                    
                    <div class="warning-box">
                        <div class="warning-icon"><i class="fas fa-exclamation-triangle"></i></div>
                        <div class="warning-content">
                            <p><strong>安全注意事项：</strong> 载荷仅经过Base64Url编码，而不是加密。任何人都可以解码它来查看其内容。除非您使用JWE（JSON Web加密），否则永远不要在JWT载荷中放置密码等敏感信息。</p>
                        </div>
                    </div>
                    
                    <h3>签名</h3>
                    <p>
                        签名是通过获取编码的头部、编码的载荷、密钥和头部中指定的算法，并对它们进行签名来创建的。
                    </p>
                    
                    <p>例如，如果您使用HMAC SHA256算法：</p>
                    
                    <pre><code class="language-text">HMACSHA256(
  base64UrlEncode(header) + "." + base64UrlEncode(payload),
  secret
)</code></pre>
                    
                    <p>
                        签名用于验证消息在传输过程中未被更改，对于使用私钥签名的令牌，还可以验证JWT发送者确实是其声称的身份。
                    </p>
                </div>

                <div class="docs-section">
                    <h2>JWT编码过程</h2>
                    <ol>
                        <li>创建头部JSON对象</li>
                        <li>创建载荷JSON对象</li>
                        <li>对头部进行Base64Url编码</li>
                        <li>对载荷进行Base64Url编码</li>
                        <li>使用编码后的头部、编码后的载荷和密钥创建签名</li>
                        <li>用点连接编码后的头部、编码后的载荷和签名</li>
                    </ol>
                    
                    <div class="code-diagram">
                        <div class="diagram-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Header</h4>
                                <pre><code class="language-json">{
  "alg": "HS256",
  "typ": "JWT"
}</code></pre>
                            </div>
                        </div>
                        <div class="diagram-arrow"><i class="fas fa-arrow-down"></i></div>
                        <div class="diagram-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Base64Url Encoded Header</h4>
                                <pre><code class="language-text">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</code></pre>
                            </div>
                        </div>
                        <div class="diagram-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>载荷</h4>
                                <pre><code class="language-json">{
  "sub": "1234567890",
  "name": "张三",
  "iat": 1516239022
}</code></pre>
                            </div>
                        </div>
                        <div class="diagram-arrow"><i class="fas fa-arrow-down"></i></div>
                        <div class="diagram-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Base64Url Encoded Payload</h4>
                                <pre><code class="language-text">eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ</code></pre>
                            </div>
                        </div>
                        <div class="diagram-step">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h4>Signature</h4>
                                <pre><code class="language-text">HMACSHA256(
  base64UrlEncode(header) + "." + base64UrlEncode(payload),
  secret
)</code></pre>
                            </div>
                        </div>
                        <div class="diagram-arrow"><i class="fas fa-arrow-down"></i></div>
                        <div class="diagram-step">
                            <div class="step-number">6</div>
                            <div class="step-content">
                                <h4>Complete JWT</h4>
                                <pre><code class="language-text jwt-token">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>JWT验证过程</h2>
                    <ol>
                        <li>将JWT拆分为三个部分</li>
                        <li>对头部和载荷进行Base64Url解码</li>
                        <li>使用头部中指定的算法验证签名</li>
                        <li>检查声明（exp、nbf、iss等）以确保它们有效</li>
                        <li>根据应用程序的要求处理JWT</li>
                    </ol>
                </div>

                <div class="docs-section">
                    <h2>JWT与会话令牌</h2>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>特性</th>
                                    <th>JWT</th>
                                    <th>会话令牌</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>存储</td>
                                    <td>客户端</td>
                                    <td>服务器端</td>
                                </tr>
                                <tr>
                                    <td>可扩展性</td>
                                    <td>高度可扩展（无状态）</td>
                                    <td>需要会话存储</td>
                                </tr>
                                <tr>
                                    <td>安全性</td>
                                    <td>已签名，可以加密</td>
                                    <td>不透明引用</td>
                                </tr>
                                <tr>
                                    <td>大小</td>
                                    <td>较大（包含声明）</td>
                                    <td>较小（只是一个ID）</td>
                                </tr>
                                <tr>
                                    <td>过期</td>
                                    <td>自包含</td>
                                    <td>由服务器控制</td>
                                </tr>
                                <tr>
                                    <td>撤销</td>
                                    <td>没有黑名单则困难</td>
                                    <td>容易（从存储中删除）</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>JWT常见用例</h2>
                    
                    <div class="use-case">
                        <div class="use-case-icon"><i class="fas fa-user-check"></i></div>
                        <div class="use-case-content">
                            <h3>身份验证</h3>
                            <p>用户登录后，每个后续请求都将包含JWT，允许用户访问该令牌许可的路由、服务和资源。</p>
                        </div>
                    </div>
                    
                    <div class="use-case">
                        <div class="use-case-icon"><i class="fas fa-exchange-alt"></i></div>
                        <div class="use-case-content">
                            <h3>信息交换</h3>
                            <p>JWT是各方之间安全传输信息的好方法，因为它们可以被签名，这意味着您可以确信发送者就是他们声称的人。</p>
                        </div>
                    </div>
                    
                    <div class="use-case">
                        <div class="use-case-icon"><i class="fas fa-lock"></i></div>
                        <div class="use-case-content">
                            <h3>授权</h3>
                            <p>用户登录后，应用程序可以根据JWT中编码的权限允许访问特定资源。</p>
                        </div>
                    </div>
                    
                    <div class="use-case">
                        <div class="use-case-icon"><i class="fas fa-id-card"></i></div>
                        <div class="use-case-content">
                            <h3>联合身份</h3>
                            <p>JWT在单点登录（SSO）场景中使用，用户只需登录一次即可访问多个系统，而无需再次提示登录。</p>
                        </div>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>JWT最佳实践</h2>
                    
                    <h3>安全性</h3>
                    <ol>
                        <li>
                            <strong>使用HTTPS</strong>: 始终通过HTTPS传输JWT以防止通过网络窃听窃取令牌。
                        </li>
                        <li>
                            <strong>设置适当的过期时间</strong>: 使用短期令牌（分钟到小时，而不是天）以在令牌被泄露时最小化损害。
                        </li>
                        <li>
                            <strong>验证所有声明</strong>: 始终验证签发者、受众、过期时间和其它声明。
                        </li>
                        <li>
                            <strong>使用强密钥</strong>: 对于HMAC算法，使用强的、随机生成的密钥。对于RSA/ECDSA，使用适当的密钥长度。
                        </li>
                        <li>
                            <strong>考虑使用刷新令牌</strong>: 实现刷新令牌系统以在不需要用户重新认证的情况下获取新的访问令牌。
                        </li>
                    </ol>
                    
                    <h3>实施</h3>
                    <ol>
                        <li>
                            <strong>不要存储敏感数据</strong>: JWT默认不加密，所以不要在载荷中存储敏感信息。
                        </li>
                        <li>
                            <strong>实现令牌撤销</strong>: 制定在需要时撤销令牌的策略（用户登出、密码更改等）。
                        </li>
                        <li>
                            <strong>使用适当的算法</strong>: 对于具有多个验证点的生产系统，优先使用非对称算法（RS256、ES256）而不是对称算法（HS256）。
                        </li>
                        <li>
                            <strong>验证输入</strong>: 在将用户输入包含在JWT中之前，始终验证和清理用户输入。
                        </li>
                        <li>
                            <strong>安全处理错误</strong>: 不要暴露可能帮助攻击者的详细错误消息。
                        </li>
                    </ol>
                </div>

                <div class="docs-section">
                    <h2>JWT库</h2>
                    
                    <div class="library-list">
                        <div class="library-item">
                            <h3>JavaScript/Node.js</h3>
                            <ul>
                                <li><a href="https://github.com/auth0/node-jsonwebtoken" target="_blank">jsonwebtoken</a></li>
                                <li><a href="https://github.com/panva/jose" target="_blank">jose</a></li>
                            </ul>
                        </div>
                        
                        <div class="library-item">
                            <h3>Python</h3>
                            <ul>
                                <li><a href="https://github.com/jpadilla/pyjwt" target="_blank">PyJWT</a></li>
                                <li><a href="https://github.com/mpdavis/python-jose" target="_blank">python-jose</a></li>
                            </ul>
                        </div>
                        
                        <div class="library-item">
                            <h3>Java</h3>
                            <ul>
                                <li><a href="https://github.com/jwtk/jjwt" target="_blank">jjwt</a></li>
                                <li><a href="https://github.com/auth0/java-jwt" target="_blank">java-jwt</a></li>
                            </ul>
                        </div>
                        
                        <div class="library-item">
                            <h3>.NET</h3>
                            <ul>
                                <li><a href="https://www.nuget.org/packages/System.IdentityModel.Tokens.Jwt/" target="_blank">System.IdentityModel.Tokens.Jwt</a></li>
                                <li><a href="https://github.com/jwt-dotnet/jwt" target="_blank">JWT.NET</a></li>
                            </ul>
                        </div>
                        
                        <div class="library-item">
                            <h3>PHP</h3>
                            <ul>
                                <li><a href="https://github.com/firebase/php-jwt" target="_blank">firebase/php-jwt</a></li>
                                <li><a href="https://github.com/lcobucci/jwt" target="_blank">lcobucci/jwt</a></li>
                            </ul>
                        </div>
                        
                        <div class="library-item">
                            <h3>Ruby</h3>
                            <ul>
                                <li><a href="https://github.com/jwt/ruby-jwt" target="_blank">ruby-jwt</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="docs-section">
                    <h2>结论</h2>
                    <p>
                        JWT为在现代应用程序中处理身份验证和授权提供了强大、标准化的方法。通过了解它们的结构、功能和安全注意事项，您可以在项目中有效地安全地实现它们。
                    </p>
                    <p>
                        请记住，尽管JWT提供了许多优势，但它们并不是适用于所有身份验证场景的万能解决方案。在决定是否使用JWT或替代身份验证机制时，请考虑您的具体要求和安全需求。
                    </p>
                    
                    <div class="next-steps">
                        <h3>下一步</h3>
                        <div class="next-links">
                            <a href="jwt-vulnerabilities-guide.html" class="next-link">
                                <i class="fas fa-user-secret"></i>
                                <span>探索JWT漏洞</span>
                            </a>
                            <a href="secure-jwt-implementation.html" class="next-link">
                                <i class="fas fa-lock"></i>
                                <span>学习安全实施</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>JWTAuditor</h3>
                <p>专为渗透测试人员和网络安全专业人员设计的专业JWT安全测试平台。解码、分析漏洞并审计JSON Web Token实现，完全保护客户端隐私。</p>
            </div>
            <div class="footer-section">
                <h3>文档</h3>
                <ul class="footer-links">
                    <li><a href="jwt-fundamentals.html">JWT基础</a></li>
                    <li><a href="jwt-vulnerabilities-guide.html">漏洞指南</a></li>
                    <li><a href="secure-jwt-implementation.html">安全实现</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>资源</h3>
                <ul class="footer-links">
                    <li><a href="../about.html">关于我们</a></li>
                    <li><a href="https://jwt.io/" target="_blank">JWT.io</a></li>
                    <li><a href="https://portswigger.net/web-security/jwt" target="_blank">PortSwigger JWT Attacks</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
<p>&copy; 2025 A Project by 
  <a href="https://github.com/dr34mhacks" style="color: var(--primary-color);">Sid</a> & 
  <a href="https://github.com/thecybersandeep" style="color: var(--primary-color);">Sandeep</a> • 
  
</p>            <div class="social-links">
                <a href="https://x.com/infosecmania" target="_blank"><i class="fab fa-twitter"></i></a>
                <a href="https://www.linkedin.com/company/infosecmania" target="_blank"><i class="fab fa-linkedin"></i></a>
                <a href="https://github.com/dr34mhacks/jwtauditor" target="_blank"><i class="fab fa-github"></i></a>
            </div>
        </div>
    </footer>

    <button class="sidebar-toggle" aria-label="Toggle sidebar">
        <i class="fas fa-bars"></i>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="js/docs.js"></script>
</body>
</html>